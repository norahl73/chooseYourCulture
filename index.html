<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Cultural Journey: A Tale of Two Worlds</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        background: linear-gradient(145deg, #f7b85f 0%, #f5daad 100%);
        min-height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        padding: 20px;
      }

      .container {
        max-width: 900px;
        width: 100%;
        background: white;
        border-radius: 20px;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        overflow: hidden;
      }

      .header {
        background: linear-gradient(#a91515 0%, #d85923 100%);
        padding: 30px;
        text-align: center;
        color: white;
      }

      .header h1 {
        font-size: 2.5em;
        margin-bottom: 10px;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
      }

      .header p {
        font-size: 1.1em;
        opacity: 0.95;
      }

      .scene-container {
        padding: 40px;
        min-height: 500px;
      }

      .character-display {
        width: 100%;
        height: 300px;
        background: white;
        border-radius: 15px;
        margin-bottom: 30px;
        display: flex;
        justify-content: center;
        align-items: center;
        position: relative;
        overflow: hidden;
        box-shadow: inset 0 2px 10px rgba(0, 0, 0, 0.1);
      }

      .character {
        font-size: 120px;
        animation: fadeIn 0.5s ease-in;
        z-index: 10;
      }

      .character-image {
        max-width: 90%;
        max-height: 90%;
        object-fit: contain;
        animation: fadeIn 0.5s ease-in;
        border-radius: 10px;
      }

      .scene-background {
        position: absolute;
        width: 100%;
        height: 100%;
        top: 0;
        left: 0;
        display: flex;
        justify-content: space-around;
        align-items: center;
        font-size: 60px;
        opacity: 0.8;
      }

      .scene-background img {
        max-height: 80%;
        max-width: 45%;
        object-fit: contain;
      }

      .story-text {
        font-size: 1.3em;
        line-height: 1.8;
        color: #333;
        margin-bottom: 30px;
        padding: 20px;
        background: #dee8f3;
        border-radius: 10px;
      }

      .choices {
        display: flex;
        gap: 20px;
        flex-wrap: wrap;
      }

      .choice-btn {
        flex: 1;
        min-width: 250px;
        padding: 25px;
        border: none;
        border-radius: 15px;
        font-size: 1.1em;
        font-weight: bold;
        cursor: pointer;
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
      }

      .choice-btn::before {
        content: "";
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: rgba(255, 255, 255, 0.3);
        transition: left 0.5s ease;
      }

      .choice-btn:hover::before {
        left: 100%;
      }

      .korean-choice {
        background: #ac1b1b;
        color: white;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.4);
      }

      .korean-choice:hover {
        transform: translateY(-3px);
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.4);
      }

      .afghan-choice {
        background: #ac1b1b;
        color: white;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.4);
      }

      .afghan-choice:hover {
        transform: translateY(-3px);
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.4);
      }

      .restart-btn {
        margin-top: 20px;
        padding: 15px 40px;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        border: none;
        border-radius: 25px;
        font-size: 1.1em;
        font-weight: bold;
        cursor: pointer;
        transition: all 0.3s ease;
        box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
      }

      .restart-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(102, 126, 234, 0.6);
      }

      .stats {
        display: flex;
        justify-content: space-around;
        margin-top: 30px;
        padding: 20px;
        background: #f8f9fa;
        border-radius: 10px;
      }

      .stat-item {
        text-align: center;
      }

      .stat-label {
        font-size: 0.9em;
        color: #666;
        margin-bottom: 5px;
      }

      .stat-value {
        font-size: 1.8em;
        font-weight: bold;
        color: #333;
      }

      .result-image {
        width: 300px;
        height: 300px;
        object-fit: cover;
        border-radius: 15px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        animation: fadeIn 0.5s ease-in;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: scale(0.8);
        }
        to {
          opacity: 1;
          transform: scale(1);
        }
      }

      @media (max-width: 768px) {
        .header h1 {
          font-size: 1.8em;
        }

        .choices {
          flex-direction: column;
        }

        .choice-btn {
          min-width: 100%;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="header">
        <h1>Cultural Journey</h1>
        <p>A Tale of Two Worlds: Korean & Afghan</p>
      </div>

      <div class="scene-container" id="sceneContainer">
        <!-- Dynamic content will be inserted here -->
      </div>
    </div>

    <script>
      const gameState = {
        currentScene: "start",
        koreanChoices: 0,
        afghanChoices: 0,
        path: [],
      };

      const scenes = {
        start: {
          character: "üßë",
          background: ["./assets/korean/morningtea.png", "üèîÔ∏è"],
          text: "You wake up in a mystical place between two worlds. To your left, you see cherry blossoms and traditional temples. To your right, you see mountain peaks and ornate carpets. You must choose your path...",
          choices: [
            {
              text: "Visit the Korean tea house for morning tea",
              type: "korean",
              next: "korean_morning",
            },
            {
              text: "Join the Afghan family for morning chai",
              type: "afghan",
              next: "afghan_morning",
            },
          ],
        },

        korean_morning: {
          character: "üçµ",
          background: ["üå∏", "/assets/korean/taekwondo.png"],
          text: "You enter a serene Korean tea house. The aroma of traditional tea fills the air. An elder offers you a choice of activities to honor the morning.",
          choices: [
            {
              text: "Practice Taekwondo with the local dojang",
              type: "korean",
              next: "korean_taekwondo",
            },
            {
              text: "Learn to prepare Kabuli Pulao instead",
              type: "afghan",
              next: "cooking_kabuli",
            },
          ],
        },

        afghan_morning: {
          character: "‚òï",
          background: ["üèîÔ∏è", "/assets/korean/kimchi.png"],
          text: "You sit on beautiful Afghan rugs as the family serves you hot chai with naan. The hospitality is warm and welcoming. They invite you to join their daily activities.",
          choices: [
            {
              text: "Help weave a traditional Afghan carpet",
              type: "afghan",
              next: "afghan_carpet",
            },
            {
              text: "Join a Korean cooking class for kimchi-making",
              type: "korean",
              next: "korean_kimchi",
            },
          ],
        },

        korean_taekwondo: {
          character: "ü•ã",
          background: ["/assets/korean/dance.png", "üèÜ"],
          text: "You bow respectfully and begin your Taekwondo training. The discipline and focus required are incredible. After training, you're invited to a celebration.",
          choices: [
            {
              text: "Attend a K-pop dance workshop",
              type: "korean",
              next: "korean_kpop",
            },
            {
              text: "Join an Afghan music session with rubab",
              type: "afghan",
              next: "afghan_music",
            },
          ],
        },

        cooking_kabuli: {
          character: "üçö",
          background: ["ü•ï", "/assets/korean/palace.png"],
          text: "You learn to prepare the national dish of Afghanistan - Kabuli Pulao. The aromatic rice with raisins and carrots is spectacular. The family shares stories of their heritage.",
          choices: [
            {
              text: "Visit Bamiyan to see historical sites",
              type: "afghan",
              next: "afghan_history",
            },
            {
              text: "Travel to Gyeongbokgung Palace in Seoul",
              type: "korean",
              next: "korean_palace",
            },
          ],
        },

        afghan_carpet: {
          character: "üß∂",
          background: ["üé®", "/assets/korean/hanbok.png"],
          text: "You learn the intricate art of Afghan carpet weaving. Each knot tells a story, and the patterns have been passed down through generations. It's meditative and beautiful.",
          choices: [
            {
              text: "Attend a traditional Afghan wedding",
              type: "afghan",
              next: "afghan_wedding",
            },
            {
              text: "Experience a Korean hanbok fashion show",
              type: "korean",
              next: "korean_hanbok",
            },
          ],
        },

        korean_kimchi: {
          character: "ü•¨",
          background: ["/assets/korean/hanok.png", "ü•í"],
          text: "You learn the time-honored tradition of making kimchi. The ajumma (aunty) teaches you about fermentation and the importance of this dish in Korean culture.",
          choices: [
            {
              text: "Visit a traditional Korean hanok village",
              type: "korean",
              next: "korean_hanok",
            },
            {
              text: "Explore the markets of Kabul",
              type: "afghan",
              next: "afghan_market",
            },
          ],
        },

        korean_kpop: {
          character: "üíÉ",
          background: ["/assets/korean/pcbang.png", "‚≠ê"],
          text: "You join a high-energy K-pop dance class! The synchronized movements and catchy music are infectious. You're learning a piece of modern Korean culture.",
          choices: [
            {
              text: "Visit a PC bang (gaming cafe) for esports",
              type: "korean",
              next: "korean_gaming",
            },
            {
              text: "Learn Afghan traditional Attan dance",
              type: "afghan",
              next: "afghan_attan",
            },
          ],
        },

        afghan_music: {
          character: "üéµ",
          background: ["üé∏", "/assets/korean/calligraphy.png"],
          text: "You sit with musicians playing the rubab and tabla. The melodies are haunting and beautiful, telling stories of mountains and valleys, love and loss.",
          choices: [
            {
              text: "Learn to recite classical Afghan poetry",
              type: "afghan",
              next: "afghan_poetry",
            },
            {
              text: "Study Korean calligraphy and poetry",
              type: "korean",
              next: "korean_calligraphy",
            },
          ],
        },

        afghan_history: {
          character: "üèõÔ∏è",
          background: ["‚õ∞Ô∏è", "/assets/korean/chuseok.png"],
          text: "You visit historic sites and learn about Afghanistan's rich history as a crossroads of civilizations. The stories span thousands of years.",
          choices: [
            {
              text: "Attend a traditional Afghan jirga (council)",
              type: "afghan",
              next: "afghan_ending_wisdom",
            },
            {
              text: "Experience Korean Chuseok harvest festival",
              type: "korean",
              next: "korean_ending_zen",
            },
          ],
        },

        korean_palace: {
          character: "üèØ",
          background: ["/assets/korean/royalmeal.png", "üå∏"],
          text: "You walk through the grand Gyeongbokgung Palace, learning about the Joseon Dynasty. Guards in traditional dress perform the changing ceremony.",
          choices: [
            {
              text: "Learn about Korean royal court cuisine",
              type: "korean",
              next: "korean_ending_zen",
            },
            {
              text: "Study Afghan royal history and culture",
              type: "afghan",
              next: "afghan_ending_wisdom",
            },
          ],
        },

        afghan_wedding: {
          character: "üíë",
          background: ["üéä", "/assets/korean/pabaek.png"],
          text: "You attend a vibrant Afghan wedding celebration. The bride's henna is intricate, the food is abundant, and the celebration lasts for days!",
          choices: [
            {
              text: "Stay for the traditional Afghan poetry recital",
              type: "afghan",
              next: "afghan_ending_celebration",
            },
            {
              text: "Attend a Korean paebaek ceremony",
              type: "korean",
              next: "korean_ending_zen",
            },
          ],
        },

        korean_hanbok: {
          character: "üëò",
          background: ["/assets/korean/tea.png", "‚ú®"],
          text: "You try on beautiful hanbok in vibrant colors. Each design represents different seasons and occasions. The traditional clothing is elegant and comfortable.",
          choices: [
            {
              text: "Participate in a Korean tea ceremony",
              type: "korean",
              next: "korean_ending_zen",
            },
            {
              text: "Try on traditional Afghan clothing and jewelry",
              type: "afghan",
              next: "afghan_ending_celebration",
            },
          ],
        },

        korean_hanok: {
          character: "üè†",
          background: ["/assets/korean/meditation.png", "ü™®"],
          text: "You stay in a traditional hanok with heated floors (ondol) and paper doors. The architecture harmonizes with nature beautifully.",
          choices: [
            {
              text: "Practice Korean meditation in the temple",
              type: "korean",
              next: "korean_ending_zen",
            },
            {
              text: "Visit an Afghan garden and learn about Persian architecture",
              type: "afghan",
              next: "afghan_ending_wisdom",
            },
          ],
        },

        afghan_market: {
          character: "üõçÔ∏è",
          background: ["üßµ", "/assets/korean/namdaemun.png"],
          text: "The bustling market is full of spices, carpets, and handicrafts. Vendors call out their wares and the air is filled with aromatic scents.",
          choices: [
            {
              text: "Learn to bargain and buy Afghan treasures",
              type: "afghan",
              next: "afghan_ending_trader",
            },
            {
              text: "Visit Seoul's Namdaemun Market instead",
              type: "korean",
              next: "korean_ending_modern",
            },
          ],
        },

        korean_gaming: {
          character: "üéÆ",
          background: ["/assets/korean/gaming.png", "üèÜ"],
          text: "You experience the phenomenon of Korean esports! The PC bang is packed with players, and you try your hand at popular games.",
          choices: [
            {
              text: "Join a Korean gaming tournament",
              type: "korean",
              next: "korean_ending_modern",
            },
            {
              text: "Learn traditional Afghan board games instead",
              type: "afghan",
              next: "afghan_ending_celebration",
            },
          ],
        },

        afghan_attan: {
          character: "üíÉ",
          background: ["üéä", "/assets/korean/folkdance.png"],
          text: "You learn the Attan, Afghanistan's national dance. The circular movements and rhythmic steps connect dancers in celebration.",
          choices: [
            {
              text: "Perform at an Afghan cultural festival",
              type: "afghan",
              next: "afghan_ending_dance",
            },
            {
              text: "Learn Korean folk dance (Buchaechum)",
              type: "korean",
              next: "korean_folk_dance",
            },
          ],
        },

        afghan_poetry: {
          character: "üìñ",
          background: ["‚úíÔ∏è", "/assets/korean/poetry.png"],
          text: "You study the works of Rumi and other great Persian poets. The verses speak of love, spirituality, and the beauty of existence.",
          choices: [
            {
              text: "Write your own poem in Dari",
              type: "afghan",
              next: "afghan_ending_poet",
            },
            {
              text: "Study Korean sijo poetry form",
              type: "korean",
              next: "korean_sijo",
            },
          ],
        },

        korean_calligraphy: {
          character: "‚úçÔ∏è",
          background: ["/assets/korean/wisdom.png", "üìú"],
          text: "You learn the art of Korean calligraphy, carefully brushing Hangul characters. Each stroke requires focus and intention.",
          choices: [
            {
              text: "Create a scroll of Korean wisdom sayings",
              type: "korean",
              next: "korean_ending_artist",
            },
            {
              text: "Learn Persian calligraphy instead",
              type: "afghan",
              next: "afghan_ending_poet",
            },
          ],
        },

        // Ending scenes
        korean_ending_zen: {
          character: "üßò",
          background: ["‚òÆÔ∏è", "üå∏"],
          text: "Your journey concludes in a peaceful Korean tea ceremony. You've learned the value of mindfulness, respect, and harmony. The master tells you that you now carry the spirit of Korean tradition within you.",
          choices: [],
          ending: true,
          image: "assets/korean-zen.jpg",
        },

        korean_ending_modern: {
          character: "üåü",
          background: ["üöÄ", "üí°"],
          text: "Your journey ends in the heart of modern Korea! You've experienced how tradition and innovation blend seamlessly. You leave with an understanding of how Korea honors its past while embracing the future.",
          choices: [],
          ending: true,
          image: "assets/korean-modern.jpg",
        },

        korean_ending_artist: {
          character: "üé®",
          background: ["üñºÔ∏è", "‚ú®"],
          text: "Your artistic journey through Korean culture concludes. You've mastered calligraphy and understand the deep connection between art and spirit in Korean tradition. Your scroll will remind you of this wisdom.",
          choices: [],
          ending: true,
          image: "assets/korean-artist.jpg",
        },

        afghan_ending_wisdom: {
          character: "üïäÔ∏è",
          background: ["‚õ∞Ô∏è", "üìö"],
          text: "Your journey ends in a circle of elders sharing wisdom. You've learned that Afghan culture values community, honor, and the oral tradition of passing knowledge. You carry their stories forward.",
          choices: [],
          ending: true,
          image: "assets/afghan-wisdom.jpg",
        },

        afghan_ending_celebration: {
          character: "üéâ",
          background: ["‚ù§Ô∏è", "üåü"],
          text: "Your journey concludes amid celebration and joy! You've experienced the legendary Afghan hospitality and learned that celebration, family, and togetherness are at the heart of Afghan culture.",
          choices: [],
          ending: true,
          image: "assets/afghan-celebration.jpg",
        },

        afghan_ending_trader: {
          character: "ü§ù",
          background: ["üí∞", "üõçÔ∏è"],
          text: "Your journey ends as a respected member of the bazaar community. You've learned the art of Afghan commerce and the importance of trust and relationships in business. Your network spans continents!",
          choices: [],
          ending: true,
          image: "assets/afghan-trader.jpg",
        },

        afghan_ending_dance: {
          character: "üéä",
          background: ["üíÉ", "ü•Å"],
          text: "Your journey culminates in a grand performance of the Attan! You've become part of a living tradition that connects Afghans across the world. The rhythm lives in your heart.",
          choices: [],
          ending: true,
          image: "assets/afghan-dance.jpg",
        },

        afghan_ending_poet: {
          character: "üåô",
          background: ["üìñ", "‚ú®"],
          text: "Your journey ends under the stars, reciting poetry with new friends. You've touched the soul of Afghan literature and understand how words can capture the human experience across time.",
          choices: [],
          ending: true,
          image: "assets/afghan-poet.jpg",
        },
      };

      function renderScene(sceneKey) {
        const scene = scenes[sceneKey];
        const container = document.getElementById("sceneContainer");

        let html = `
                <div class="character-display">
                    ${
                      scene.ending
                        ? `<img src="${scene.image}" alt="${scene.ending}" class="result-image">`
                        : `<div class="scene-background">
                            ${scene.background
                              .map((item) => {
                                if (item.includes(".") || item.includes("/")) {
                                  return `<img src="${item}" alt="scene">`;
                                } else {
                                  return `<span>${item}</span>`;
                                }
                              })
                              .join("")}
                        </div>
                        ${
                          scene.character &&
                          (scene.character.includes(".") ||
                            scene.character.includes("/"))
                            ? `<img src="${scene.character}" alt="character" class="character-image">`
                            : `<div class="character">${scene.character}</div>`
                        }`
                    }
                </div>
                
                <div class="story-text">${scene.text}</div>
            `;

        if (scene.ending) {
          html += `
                    <div class="stats">
                        <div class="stat-item">
                            <div class="stat-label">Korean Choices</div>
                            <div class="stat-value" style="color: #ff6b6b;">${gameState.koreanChoices}</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label">Afghan Choices</div>
                            <div class="stat-value" style="color: #4ecdc4;">${gameState.afghanChoices}</div>
                        </div>
                    </div>
                    <div style="text-align: center;">
                        <button class="restart-btn" onclick="restartGame()">Start New Journey</button>
                    </div>
                `;
        } else {
          html += '<div class="choices">';
          scene.choices.forEach((choice, index) => {
            const btnClass =
              choice.type === "korean" ? "korean-choice" : "afghan-choice";
            html += `
                        <button class="choice-btn ${btnClass}" onclick="makeChoice('${choice.next}', '${choice.type}')">
                            ${choice.text}
                        </button>
                    `;
          });
          html += "</div>";
        }

        container.innerHTML = html;
      }

      function makeChoice(nextScene, choiceType) {
        if (choiceType === "korean") {
          gameState.koreanChoices++;
        } else {
          gameState.afghanChoices++;
        }

        gameState.path.push(nextScene);
        gameState.currentScene = nextScene;
        renderScene(nextScene);
      }

      function restartGame() {
        gameState.currentScene = "start";
        gameState.koreanChoices = 0;
        gameState.afghanChoices = 0;
        gameState.path = [];
        renderScene("start");
      }

      // Initialize the game
      renderScene("start");
    </script>
  </body>
</html>
